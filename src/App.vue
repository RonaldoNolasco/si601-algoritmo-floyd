<template>
<div style="height: 500px; width: 100%; align:center">
    <center>
        <h1>Algoritmo de Floyd</h1>
        <h4>El presente programa permite obtener la ruta más corta para cualquier par de nodos.</h4>
    </center>
    <l-map :zoom="zoom" :center="center" :options="mapOptions" style="height: 100%" @update:center="centerUpdate" @update:zoom="zoomUpdate">
        <l-tile-layer :url="url" :attribution="attribution"/>
            <template v-for="(point, index) in points">
                <l-marker :lat-lng="latLng(point.coord1, point.coord2)" :key="point + index" @click="agregarInd(index)" >
                    <l-tooltip v-show="mostrarCiudades" :options="{ permanent: true }">{{point.name}}</l-tooltip>
                </l-marker>
            </template>
            <template v-for="(line, index) in relationsLine">
                <l-polyline :lat-lngs="relationsLine[index].latlngs" :color="relationsLine[index].color" :key="relationsLine + index"></l-polyline>
            </template>
            <template v-if = "this.minPath.latlngs.length >= 2">
                <l-polyline :lat-lngs="this.minPath.latlngs" :color="this.minPath.color"></l-polyline>
            </template>
    </l-map>
    <br>
    <center>
        <label for="nodoInicial"> Nodo inicial: </label>
        <select name="nodoInicial" id="nodoInicial" v-model="inputNodoInicial" @change="actualizarIndex()">
            <option value="-">-</option>
            <template v-for="(point, index) in points">
                <option :key="point + index" :value="point.name">{{point.name}}</option>
            </template>
        </select>
        <br>
        <br>
        <label for="nodoFinal"> Nodo final: </label>
        <select name="nodoFinal" id="nodoFinal" v-model="inputNodoFinal" @change="actualizarIndex()">
            <option value="-">-</option>
            <template v-for="(point, index) in points">
                <option :key="point + index" :value="point.name">{{point.name}}</option>
            </template>
        </select>
        <br>
        <br>
        <button @click="ciudades()">Mostrar/ocultar ciudades</button>
        <br>
        <br>
        <button @click="borrarSeleccion()">Borrar selección</button>
        <br>
        <br>
        <button @click="buscarCamino()">Buscar camino más corto</button>
        <!--<center><h3>Camino mínimo:</h3>
        <template v-for="(value, index) in path">
            <h4 :key="value + index">{{value + " - "}}</h5>
        </template>-->
        <h3>Nodos seleccionados: 
            <template v-for="(value, index) in indexesName">
                <template v-if="index != indexesName.length - 1">{{value}}, </template>
                <template v-else>{{value}}</template>
            </template>
        </h3>

        <h3>Camino mínimo: 
            <template v-if="arrNames.length != 0">
                <template v-for="(value, index) in arrNames">
                    <template v-if="index != arrNames.length - 1">{{value}} -> </template>
                    <template v-else>{{value}}</template>
                </template>
            </template>
        </h3>
        <h3>La distancia minima es: {{this.minDistance}} km</h3>
    </center>
</div>

</template>

<script>
import { latLng } from "leaflet";
import { LMap, LTileLayer, LMarker, LPolyline, LTooltip } from "vue2-leaflet";

export default {
    name: "Example",
    components: {
        LMap,
        LTileLayer,
        LMarker,
        LPolyline,
        LTooltip
    },
    data() {
        return {
            zoom: 10,
            center: latLng(-12.2833333, -76.2),
            url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
            attribution:
                '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',
            currentZoom: 10,
            currentCenter: latLng(-12.2833333, -76.2),
            showParagraph: false,
            mapOptions: {
                zoomSnap: 0.5
            },
            /*Coordenadas de los nodos*/
            points:[
                {name:"acachare", coord1:-12.2833333, coord2:-76.2},
                {name:"acopata", coord1:-10.685, coord2:-76.74638890000001},
                {name:"aguar", coord1:-10.835, coord2:-76.9858333},
                {name:"alcacoto", coord1:-11.7166667, coord2:-76.8833333},
                {name:"alip", coord1:-12.266666699999998, coord2:-75.7833333},
                {name:"almenares", coord1:-13.0666667, coord2:-76.33333329999998},
                {name:"alto peru", coord1:-11.1213889, coord2:-76.5366667},
                {name:"anchimaja", coord1:-11.8694444, coord2:-76.4352778},
                {name:"andajes", coord1:-10.7922222, coord2:-76.9094444},
                {name:"andamarca", coord1:-11.3, coord2:-76.7666667},
                {name:"antaullo", coord1:-12.806388900000002, coord2:-75.7802778},
                {name:"antucrun", coord1:-11.0069444, coord2:-76.705},
                {name:"apahuaique", coord1:-12.0666667, coord2:-76.4333333},
                {name:"aquicha", coord1:-12.4166667, coord2:-75.83333329999998},
                {name:"araya grande", coord1:-10.6666667, coord2:-77.6333333},
                {name:"araya grande hacienda", coord1:-10.6666667, coord2:-77.6333333},
                {name:"arcata", coord1:-10.85, coord2:-77.3166667},
                {name:"arcopampa", coord1:-12.7255556, coord2:-75.6227778},
                {name:"atun machay", coord1:-11.051666699999998, coord2:-76.65138890000001},
                {name:"atunpampa", coord1:-10.5177778, coord2:-76.87777779999998},
                {name:"ayllon", coord1:-10.7166667, coord2:-77.16666670000002},
                {name:"barranco", coord1:-12.15, coord2:-77.0333333},
                {name:"bella luz", coord1:-10.6880556, coord2:-76.7233333},
                {name:"bellavista", coord1:-10.8333333, coord2:-77.7166667},
                {name:"blanca rosa del mar", coord1:-12.766666699999998, coord2:-76.6},
                {name:"bravo grande", coord1:-12.05, coord2:-76.95},
                {name:"bunabamba", coord1:-11.435, coord2:-76.5725},
                {name:"cacal", coord1:-10.9, coord2:-77.5166667},
                {name:"cacan", coord1:-11.3902778, coord2:-76.6477778},
                {name:"calachota", coord1:-12.6308333, coord2:-75.97972220000003},
                {name:"caldera hacienda", coord1:-11.0833333, coord2:-77.4666667},
                {name:"callisca", coord1:-12.3166667, coord2:-75.6333333},
                {name:"camacho", coord1:-12.0833333, coord2:-76.9666667},
                {name:"campamento", coord1:-11.27, coord2:-76.9883333},
                {name:"campo florido", coord1:-12.9444444, coord2:-75.7508333},
                {name:"canchahuara", coord1:-12.0333333, coord2:-76.3166667},
                {name:"canchan", coord1:-12.7819444, coord2:-75.91638890000002},
                {name:"canchapata", coord1:-12.8272222, coord2:-75.7194444},
                {name:"canchapitca", coord1:-11.25, coord2:-76.8166667},
                {name:"canchipampa", coord1:-12.6041667, coord2:-75.9233333},
                {name:"canete", coord1:-13.0833333, coord2:-76.4},
                {name:"canta gallo", coord1:-12.841388900000002, coord2:-75.9777778},
                {name:"capash", coord1:-10.915, coord2:-76.82472220000002},
                {name:"capilla", coord1:-11.2091667, coord2:-76.5197222},
                {name:"capillapata", coord1:-10.9666667, coord2:-77.08333329999998},
                {name:"caral hacienda", coord1:-10.9, coord2:-77.5166667},
                {name:"carapilana", coord1:-11.7808333, coord2:-76.23527779999998},
                {name:"caraponga", coord1:-12.0, coord2:-76.8666667},
                {name:"carcapata", coord1:-12.8747222, coord2:-75.6322222},
                {name:"carhuac", coord1:-11.6655556, coord2:-76.4927778},
                {name:"casa blanca", coord1:-13.05, coord2:-76.4333333},
                {name:"casa blanca hacienda", coord1:-12.2166667, coord2:-76.8666667},
                {name:"casa pintada hacienda", coord1:-13.0333333, coord2:-76.3666667},
                {name:"casa vieja", coord1:-12.116666699999998, coord2:-76.8166667},
                {name:"catas", coord1:-12.5333333, coord2:-76.25},
                {name:"caullamancha", coord1:-12.2, coord2:-76.25},
                {name:"cebadacancha", coord1:-13.0333333, coord2:-75.83333329999998},
                {name:"cebada corral", coord1:-11.1011111, coord2:-76.6652778},
                {name:"cerro blanco hacienda", coord1:-10.616666699999998, coord2:-77.7833333},
                {name:"cerro pamparena", coord1:-12.2, coord2:-76.5333333},
                {name:"chacamarca", coord1:-12.8066667, coord2:-75.6880556},
                {name:"chaclla", coord1:-11.7427778, coord2:-76.6486111},
                {name:"chacra cerro hacienda", coord1:-11.9166667, coord2:-77.0666667},
                {name:"chagapata", coord1:-10.8622222, coord2:-76.615},
                {name:"chancay", coord1:-11.5597222, coord2:-77.27111109999998},
                {name:"chancayllo hacienda", coord1:-11.4883333, coord2:-77.305},
                {name:"chaquisa", coord1:-12.0666667, coord2:-76.25},
                {name:"chatacanchahuaique", coord1:-12.3, coord2:-76.35},
                {name:"chaucas", coord1:-12.6625, coord2:-75.7769444},
                {name:"chauco", coord1:-11.4155556, coord2:-76.5397222},
                {name:"chau pirarca", coord1:-11.1547222, coord2:-76.97916670000002},
                {name:"chicche", coord1:-10.563333300000002, coord2:-76.8861111},
                {name:"chico", coord1:-13.016666699999998, coord2:-76.41666670000002},
                {name:"chillipahuasi", coord1:-12.6655556, coord2:-75.5866667},
                {name:"chimba", coord1:-10.8, coord2:-76.91666670000002},
                {name:"chira", coord1:-12.35, coord2:-76.83333329999998},
                {name:"chirec", coord1:-10.6308333, coord2:-76.7308333},
                {name:"chiricurral", coord1:-11.018333300000002, coord2:-76.84},
                {name:"chocalla", coord1:-12.9347222, coord2:-75.8416667},
                {name:"chocapata", coord1:-12.9666667, coord2:-75.8833333},
                {name:"chocasa", coord1:-12.5094444, coord2:-75.93166670000002},
                {name:"chulmamachay", coord1:-10.7172222, coord2:-76.7388889},
                {name:"chunga", coord1:-11.1247222, coord2:-76.53944440000002},
                {name:"chupa cigarro grande", coord1:-10.9, coord2:-77.5333333},
                {name:"cochatama", coord1:-10.851388900000002, coord2:-76.68722220000002},
                {name:"cochca", coord1:-11.2741667, coord2:-76.74722220000002},
                {name:"cochec", coord1:-11.2072222, coord2:-76.91111109999999},
                {name:"colca", coord1:-12.7636111, coord2:-75.83888890000001},
                {name:"collaray", coord1:-11.016666699999998, coord2:-76.99861109999998},
                {name:"collpapuquio", coord1:-11.6, coord2:-76.6},
                {name:"colpa", coord1:-10.6, coord2:-76.95},
                {name:"comas hacienda", coord1:-11.95, coord2:-77.0666667},
                {name:"conchasica", coord1:-12.05, coord2:-76.4},
                {name:"concubay", coord1:-12.6527778, coord2:-75.9777778},
                {name:"contadero", coord1:-10.5280556, coord2:-76.9772222},
                {name:"copacabana", coord1:-11.85, coord2:-77.1},
                {name:"copacabana hacienda", coord1:-11.85, coord2:-77.1},
                {name:"corralon", coord1:-12.266666699999998, coord2:-76.3166667},
                {name:"curicancha", coord1:-11.5833333, coord2:-76.5333333},
                {name:"cusi", coord1:-12.5630556, coord2:-75.9080556},
                {name:"cutacancha", coord1:-10.6355556, coord2:-76.84388890000002},
                {name:"cutamajada", coord1:-10.4666667, coord2:-76.91666670000002},
                {name:"cuyahuasi", coord1:-12.4, coord2:-76.4},
                {name:"cuyrupcancha", coord1:-12.9216667, coord2:-75.6969444},
                {name:"desagravio", coord1:-11.0666667, coord2:-77.5666667},
                {name:"el arenal", coord1:-11.5666667, coord2:-77.1833333},
                {name:"el molino hacienda", coord1:-10.733333300000002, coord2:-77.75},
                {name:"encalada", coord1:-12.05, coord2:-76.9666667},
                {name:"erhuaca", coord1:-12.6697222, coord2:-75.9575},
                {name:"espuy", coord1:-12.7616667, coord2:-75.9483333},
                {name:"establo punchauca", coord1:-11.85, coord2:-77.0},
                {name:"florida", coord1:-12.9444444, coord2:-75.7508333},
                {name:"fopas", coord1:-12.75, coord2:-76.4833333},
                {name:"fundo copacabana", coord1:-12.733333300000002, coord2:-76.6166667},
                {name:"fundo santa fe", coord1:-11.4166667, coord2:-77.2166667},
                {name:"fundo santa juana", coord1:-10.9, coord2:-77.6333333},
                {name:"garbanzo", coord1:-10.6477778, coord2:-76.9858333},
                {name:"garita dona maria", coord1:-11.4, coord2:-77.4},
                {name:"gasgas", coord1:-11.4705556, coord2:-76.56},
                {name:"gorgor", coord1:-10.5833333, coord2:-77.0333333},
                {name:"granados", coord1:-12.0666667, coord2:-76.95},
                {name:"guacayan", coord1:-11.846666699999998, coord2:-76.1533333},
                {name:"hacienda chambara", coord1:-11.1, coord2:-77.33333329999998},
                {name:"hacienda el olivar", coord1:-11.733333300000002, coord2:-76.9833333},
                {name:"hacienda herbay bajo", coord1:-13.133333300000002, coord2:-76.4},
                {name:"hacienda huampani", coord1:-11.9666667, coord2:-76.7833333},
                {name:"hacienda humaya", coord1:-11.1, coord2:-77.41666670000002},
                {name:"hacienda janquil", coord1:-10.9275, coord2:-76.6466667},
                {name:"hacienda jesus del valle", coord1:-11.516666699999998, coord2:-77.2},
                {name:"hacienda marquez", coord1:-11.95, coord2:-77.1333333},
                {name:"hacienda miraflores", coord1:-11.5333333, coord2:-77.16666670000002},
                {name:"hacienda salitre", coord1:-12.6833333, coord2:-76.65},
                {name:"hacienda santa isabel", coord1:-10.983333300000002, coord2:-77.65},
                {name:"hacienda unanue", coord1:-13.116666699999998, coord2:-76.4},
                {name:"huacaypaca", coord1:-11.9158333, coord2:-76.14138890000002},
                {name:"huachinga", coord1:-11.198333300000002, coord2:-76.8972222},
                {name:"huacrocorral", coord1:-10.5169444, coord2:-76.9519444},
                {name:"huaguina", coord1:-11.9888889, coord2:-76.4091667},
                {name:"huaichautana", coord1:-11.010833300000002, coord2:-76.70138890000001},
                {name:"huallao", coord1:-10.9655556, coord2:-76.9572222},
                {name:"huallape", coord1:-10.366666699999998, coord2:-77.0},
                {name:"huambay chico", coord1:-10.9, coord2:-77.0666667},
                {name:"huampan", coord1:-11.1, coord2:-77.0},
                {name:"huanacallpi", coord1:-12.8288889, coord2:-75.6558333},
                {name:"huanacopunahuain", coord1:-10.8941667, coord2:-76.7483333},
                {name:"huancani", coord1:-12.483333300000002, coord2:-76.4333333},
                {name:"huanchay", coord1:-11.1144444, coord2:-76.5594444},
                {name:"huando hacienda", coord1:-11.5, coord2:-77.1833333},
                {name:"huarabi bajo hacienda", coord1:-11.6833333, coord2:-76.9},
                {name:"huarangal", coord1:-11.266666699999998, coord2:-76.9833333},
                {name:"huarangayo", coord1:-11.835, coord2:-76.16111109999999},
                {name:"huascata", coord1:-12.0, coord2:-76.83333329999998},
                {name:"huatara", coord1:-12.8130556, coord2:-75.77444440000002},
                {name:"huaura", coord1:-11.0647222, coord2:-77.6},
                {name:"huayan", coord1:-11.45, coord2:-77.1333333},
                {name:"huaylinco", coord1:-11.1530556, coord2:-76.9819444},
                {name:"huayto", coord1:-10.65, coord2:-77.66666670000002},
                {name:"huirpina", coord1:-13.0333333, coord2:-75.9666667},
                {name:"humaya hacienda", coord1:-11.1, coord2:-77.41666670000002},
                {name:"independencia", coord1:-11.983333300000002, coord2:-77.0333333},
                {name:"inya", coord1:-12.9838889, coord2:-75.86583329999998},
                {name:"iscaycocha", coord1:-12.9080556, coord2:-75.65388890000001},
                {name:"isco", coord1:-12.6297222, coord2:-75.5980556},
                {name:"jaiba", coord1:-10.883333300000002, coord2:-77.3833333},
                {name:"janca", coord1:-11.0566667, coord2:-76.6188889},
                {name:"japur", coord1:-10.9536111, coord2:-76.7016667},
                {name:"jicamarca", coord1:-11.65, coord2:-76.6166667},
                {name:"lacsa", coord1:-11.2627778, coord2:-76.7425},
                {name:"lagsaura", coord1:-10.8644444, coord2:-76.8688889},
                {name:"la hoyada", coord1:-10.75, coord2:-77.7333333},
                {name:"la milla", coord1:-12.016666699999998, coord2:-77.0666667},
                {name:"lampas", coord1:-10.5658333, coord2:-76.9486111},
                {name:"lancal", coord1:-10.6233333, coord2:-76.7508333},
                {name:"lantudan", coord1:-11.285833300000002, coord2:-76.52722220000003},
                {name:"la planicie", coord1:-12.0666667, coord2:-76.9},
                {name:"las huertas hacienda", coord1:-10.6833333, coord2:-77.65},
                {name:"las monjas", coord1:-10.6833333, coord2:-77.7833333},
                {name:"la toma", coord1:-10.55, coord2:-77.2333333},
                {name:"la virgen", coord1:-12.633333300000002, coord2:-76.66666670000002},
                {name:"layampata", coord1:-12.788888900000002, coord2:-75.7469444},
                {name:"leurac", coord1:-10.7288889, coord2:-76.7047222},
                {name:"lichigan", coord1:-11.3886111, coord2:-76.61583329999998},
                {name:"lihuanco", coord1:-13.016666699999998, coord2:-76.4666667},
                {name:"linday", coord1:-11.87, coord2:-76.46638890000001},
                {name:"llama huaca hacienda", coord1:-10.866666699999998, coord2:-77.55},
                {name:"llamapisillo", coord1:-11.8930556, coord2:-76.1383333},
                {name:"lliru", coord1:-11.6666667, coord2:-76.4369444},
                {name:"locicasos", coord1:-12.383333300000002, coord2:-76.7},
                {name:"lucumo hacienda", coord1:-13.0333333, coord2:-76.2},
                {name:"lucumo", coord1:-13.0333333, coord2:-76.2},
                {name:"lumbreras hacienda", coord1:-12.6833333, coord2:-76.6333333},
                {name:"lurimarca", coord1:-12.9302778, coord2:-75.9380556},
                {name:"lutacocha", coord1:-10.9616667, coord2:-76.60027779999999},
                {name:"machuranga", coord1:-12.8333333, coord2:-76.0166667},
                {name:"macotca", coord1:-11.4477778, coord2:-76.8086111},
                {name:"magdalena", coord1:-12.0833333, coord2:-77.0666667},
                {name:"magdalena vieja", coord1:-12.0833333, coord2:-77.0666667},
                {name:"manchay", coord1:-11.7558333, coord2:-76.2505556},
                {name:"maray", coord1:-10.9355556, coord2:-76.8338889},
                {name:"marcalla", coord1:-12.866666699999998, coord2:-76.2},
                {name:"matiraqui", coord1:-10.4, coord2:-76.8666667},
                {name:"millo", coord1:-11.5705556, coord2:-76.3497222},
                {name:"minapata", coord1:-10.5655556, coord2:-76.7261111},
                {name:"mira mar hacienda", coord1:-10.7, coord2:-77.8166667},
                {name:"mishuya", coord1:-10.7136111, coord2:-76.71861109999998},
                {name:"montepata", coord1:-11.9227778, coord2:-76.3291667},
                {name:"monterrico", coord1:-11.8522222, coord2:-76.39972220000001},
                {name:"naranjal", coord1:-10.5333333, coord2:-77.75},
                {name:"nauyana", coord1:-11.8502778, coord2:-76.1327778},
                {name:"nicolas de pierola", coord1:-11.95, coord2:-76.7},
                {name:"nieveria", coord1:-11.983333300000002, coord2:-76.91666670000002},
                {name:"ollancaca", coord1:-11.3125, coord2:-76.9397222},
                {name:"ongos", coord1:-12.8102778, coord2:-75.7658333},
                {name:"orcocoto", coord1:-12.1, coord2:-76.4666667},
                {name:"orrantia", coord1:-12.1, coord2:-77.05},
                {name:"otec", coord1:-11.1763889, coord2:-76.90638890000002},
                {name:"pacaybamba", coord1:-11.4605556, coord2:-76.89972220000001},
                {name:"pacchipampa", coord1:-11.0719444, coord2:-76.6936111},
                {name:"pachangara", coord1:-10.7830556, coord2:-76.8147222},
                {name:"pahuaray", coord1:-11.516666699999998, coord2:-76.7666667},
                {name:"pallicache", coord1:-11.97, coord2:-76.33972220000003},
                {name:"pampacancha", coord1:-11.9388889, coord2:-76.19555559999998},
                {name:"pampa libre", coord1:-10.8663889, coord2:-76.9683333},
                {name:"paqui", coord1:-12.915, coord2:-75.81833329999998},
                {name:"paria pampa", coord1:-12.696666699999998, coord2:-75.5877778},
                {name:"pasaca", coord1:-12.516666699999998, coord2:-76.5},
                {name:"pasapashimin", coord1:-10.6172222, coord2:-76.9705556},
                {name:"pati", coord1:-12.9022222, coord2:-75.8883333},
                {name:"picapiedra", coord1:-12.1833333, coord2:-76.8666667},
                {name:"piquillo hacienda", coord1:-11.4666667, coord2:-77.1166667},
                {name:"pirca huasi", coord1:-11.2555556, coord2:-76.8219444},
                {name:"piscuracgra", coord1:-11.0119444, coord2:-76.76861109999999},
                {name:"pitago", coord1:-10.916111099999998, coord2:-76.7130556},
                {name:"playa de santa maria", coord1:-12.4166667, coord2:-76.7833333},
                {name:"pomamayo", coord1:-10.6375, coord2:-76.7725},
                {name:"pongo", coord1:-12.35, coord2:-76.3166667},
                {name:"poquio", coord1:-12.85, coord2:-76.0166667},
                {name:"porococha", coord1:-12.5666667, coord2:-76.16666670000002},
                {name:"puca gallo", coord1:-12.45, coord2:-75.55},
                {name:"pueacorral", coord1:-11.8766667, coord2:-76.2316667},
                {name:"puente piedra hacienda", coord1:-11.8680556, coord2:-77.0775},
                {name:"puente piedra", coord1:-11.866666699999998, coord2:-77.08333329999998},
                {name:"puerto supe", coord1:-10.8166667, coord2:-77.75},
                {name:"puquian", coord1:-10.4333333, coord2:-77.1333333},
                {name:"purmacana", coord1:-10.75, coord2:-77.6333333},
                {name:"puruguay", coord1:-11.8177778, coord2:-76.17277779999998},
                {name:"quebrada seca", coord1:-12.4, coord2:-76.7833333},
                {name:"queroy", coord1:-12.5677778, coord2:-75.70527779999998},
                {name:"quillcata", coord1:-12.5427778, coord2:-75.7508333},
                {name:"quilmana", coord1:-12.95, coord2:-76.3833333},
                {name:"quimpata", coord1:-12.3333333, coord2:-75.75},
                {name:"quiscay", coord1:-12.5044444, coord2:-75.91861109999998},
                {name:"quives", coord1:-11.6672222, coord2:-76.7883333},
                {name:"racracancha", coord1:-10.7222222, coord2:-76.71888890000002},
                {name:"raucuta", coord1:-11.0466667, coord2:-76.8733333},
                {name:"raure", coord1:-11.3005556, coord2:-76.85611109999998},
                {name:"reparticion", coord1:-11.15, coord2:-77.0666667},
                {name:"ricardo palma", coord1:-11.9180556, coord2:-76.66638890000002},
                {name:"rinconada", coord1:-10.4166667, coord2:-77.7333333},
                {name:"rirco", coord1:-10.6263889, coord2:-76.81361109999997},
                {name:"rucma", coord1:-10.5977778, coord2:-76.9002778},
                {name:"rumo", coord1:-11.2677778, coord2:-76.84388890000002},
                {name:"runaquilca", coord1:-11.2797222, coord2:-76.5838889},
                {name:"rupay", coord1:-10.6947222, coord2:-76.8211111},
                {name:"sacallana", coord1:-11.9761111, coord2:-76.33972220000003},
                {name:"sacrampe", coord1:-11.8761111, coord2:-76.4247222},
                {name:"sacsacoto", coord1:-12.116666699999998, coord2:-76.45},
                {name:"san bartolo", coord1:-12.383333300000002, coord2:-76.7833333},
                {name:"sangallaya", coord1:-12.1666667, coord2:-76.2666667},
                {name:"san graciano", coord1:-11.5666667, coord2:-77.16666670000002},
                {name:"san juan de huagar", coord1:-10.9566667, coord2:-76.9541667},
                {name:"san juan", coord1:-11.1588889, coord2:-76.9183333},
                {name:"san mateo", coord1:-10.75, coord2:-77.75},
                {name:"san miguel characuaycui", coord1:-11.9730556, coord2:-76.4105556},
                {name:"san miguel de characuayqui", coord1:-11.9730556, coord2:-76.4105556},
                {name:"san pablo de ayaranga", coord1:-10.933611099999998, coord2:-76.94},
                {name:"san pedro", coord1:-10.9505556, coord2:-76.6930556},
                {name:"santa ana", coord1:-11.0833333, coord2:-77.6},
                {name:"santa cruz de ucros", coord1:-11.866666699999998, coord2:-76.5166667},
                {name:"santa maria alta", coord1:-13.0833333, coord2:-76.3166667},
                {name:"santa rosa de quibe", coord1:-11.6672222, coord2:-76.7883333},
                {name:"santa rosa de quives", coord1:-11.6672222, coord2:-76.7883333},
                {name:"saramasana", coord1:-13.0333333, coord2:-75.9333333},
                {name:"shampuy", coord1:-10.7655556, coord2:-77.00111109999997},
                {name:"shaprupacancha", coord1:-10.6408333, coord2:-76.80888890000001},
                {name:"shonco", coord1:-12.5833333, coord2:-76.2},
                {name:"sicsihuasi", coord1:-12.704166699999998, coord2:-75.6472222},
                {name:"sicsi", coord1:-13.0333333, coord2:-75.95},
                {name:"singua chico", coord1:-12.133333300000002, coord2:-75.7333333},
                {name:"singua grande", coord1:-12.2, coord2:-75.6833333},
                {name:"sipicuta", coord1:-10.6058333, coord2:-76.97972220000003},
                {name:"sirhuayo", coord1:-11.4552778, coord2:-76.5972222},
                {name:"socsi", coord1:-13.0333333, coord2:-76.2166667},
                {name:"sullcumachay", coord1:-12.825, coord2:-75.66027779999997},
                {name:"sumbilca", coord1:-11.4075, coord2:-76.82},
                {name:"sunicancha", coord1:-12.05, coord2:-76.3666667},
                {name:"surquillo", coord1:-12.116666699999998, coord2:-77.0333333},
                {name:"tamboraque", coord1:-11.7822222, coord2:-76.3075},
                {name:"tambo viejo", coord1:-10.733333300000002, coord2:-77.7833333},
                {name:"tampocancha", coord1:-11.9727778, coord2:-76.3433333},
            ],
            /*Matriz de relaciones entre los nodos*/
            relationsPair:[
                [1, 56], 
                [1, 67], 
                [1, 68], 
                [1, 98], 
                [1, 103], 
                [1, 236], 
                [1, 269], 
                [2, 23], 
                [2, 82], 
                [2, 173], 
                [2, 181], 
                [2, 203], 
                [2, 205], 
                [2, 235], 
                [2, 254], 
                [2, 260], 
                [2, 264], 
                [2, 285], 
                [3, 9], 
                [3, 21], 
                [3, 75], 
                [3, 142], 
                [3, 223], 
                [3, 276], 
                [3, 284], 
                [4, 111], 
                [4, 124], 
                [4, 149], 
                [4, 220], 
                [4, 253], 
                [4, 282], 
                [5, 14], 
                [5, 32], 
                [5, 249], 
                [5, 251], 
                [5, 252], 
                [5, 289], 
                [5, 290], 
                [6, 41], 
                [6, 51], 
                [6, 53], 
                [6, 73], 
                [6, 125], 
                [6, 134], 
                [6, 189], 
                [6, 190], 
                [6, 280], 
                [6, 293], 
                [7, 19], 
                [7, 44], 
                [7, 58], 
                [7, 83], 
                [7, 147], 
                [7, 165], 
                [7, 218], 
                [8, 184], 
                [8, 206], 
                [8, 207], 
                [8, 266], 
                [8, 274], 
                [8, 275], 
                [8, 279], 
                [9, 75], 
                [9, 169], 
                [9, 219], 
                [9, 223], 
                [9, 284], 
                [10, 29], 
                [10, 39], 
                [10, 86], 
                [10, 168], 
                [10, 217], 
                [10, 231], 
                [10, 256], 
                [10, 262], 
                [10, 295], 
                [11, 38], 
                [11, 61], 
                [11, 88], 
                [11, 153], 
                [11, 213], 
                [11, 224], 
                [12, 19], 
                [12, 58], 
                [12, 128], 
                [12, 139], 
                [12, 166], 
                [12, 218], 
                [12, 232], 
                [12, 233], 
                [12, 277], 
                [13, 60], 
                [13, 93], 
                [13, 138], 
                [13, 214], 
                [13, 267], 
                [13, 274], 
                [13, 275], 
                [13, 296], 
                [14, 32], 
                [14, 81], 
                [14, 100], 
                [14, 249], 
                [14, 251], 
                [14, 252], 
                [14, 289], 
                [15, 16], 
                [15, 107], 
                [15, 157], 
                [15, 170], 
                [15, 176], 
                [15, 245], 
                [15, 259], 
                [15, 273], 
                [16, 107], 
                [16, 157], 
                [16, 176], 
                [16, 245], 
                [16, 259], 
                [16, 273], 
                [17, 21], 
                [17, 28], 
                [17, 46], 
                [17, 123], 
                [17, 164], 
                [17, 185], 
                [18, 61], 
                [18, 74], 
                [18, 144], 
                [18, 163], 
                [18, 225], 
                [18, 287], 
                [18, 294], 
                [19, 58], 
                [19, 83], 
                [19, 139], 
                [19, 147], 
                [19, 165], 
                [19, 193], 
                [19, 218], 
                [19, 277], 
                [20, 72], 
                [20, 91], 
                [20, 95], 
                [20, 102], 
                [20, 137], 
                [20, 141], 
                [20, 201], 
                [20, 261], 
                [21, 120], 
                [21, 142], 
                [21, 178], 
                [21, 284], 
                [22, 33], 
                [22, 52], 
                [22, 108], 
                [22, 121], 
                [22, 196], 
                [22, 197], 
                [22, 215], 
                [22, 297], 
                [23, 77], 
                [23, 82], 
                [23, 173], 
                [23, 181], 
                [23, 203], 
                [23, 205], 
                [23, 235], 
                [23, 254], 
                [24, 107], 
                [24, 116], 
                [24, 170], 
                [24, 243], 
                [24, 245], 
                [24, 273], 
                [24, 299], 
                [25, 113], 
                [25, 114], 
                [25, 179], 
                [25, 191], 
                [25, 226], 
                [26, 33], 
                [26, 48], 
                [26, 54], 
                [26, 108], 
                [26, 121], 
                [26, 152], 
                [26, 160], 
                [26, 175], 
                [26, 211], 
                [26, 229], 
                [27, 29], 
                [27, 70], 
                [27, 90], 
                [27, 99], 
                [27, 119], 
                [27, 182], 
                [27, 263], 
                [27, 292], 
                [28, 46], 
                [28, 84], 
                [28, 105], 
                [28, 116], 
                [28, 133], 
                [28, 164], 
                [28, 185], 
                [29, 70], 
                [29, 119], 
                [29, 174], 
                [29, 182], 
                [29, 195], 
                [29, 220], 
                [29, 263], 
                [29, 292], 
                [30, 40], 
                [30, 81], 
                [30, 94], 
                [30, 100], 
                [30, 109], 
                [30, 252], 
                [30, 286], 
                [31, 105], 
                [31, 123], 
                [31, 127], 
                [31, 154], 
                [31, 159], 
                [31, 164], 
                [31, 278], 
                [32, 239], 
                [32, 249], 
                [32, 251], 
                [32, 290], 
                [33, 52], 
                [33, 108], 
                [33, 121], 
                [33, 175], 
                [33, 196], 
                [33, 211], 
                [33, 215], 
                [33, 229], 
                [34, 71], 
                [34, 136], 
                [34, 150], 
                [34, 156], 
                [34, 212], 
                [34, 216], 
                [35, 38], 
                [35, 57], 
                [35, 79], 
                [35, 104], 
                [35, 112], 
                [35, 162], 
                [35, 224], 
                [36, 56], 
                [36, 67], 
                [36, 93], 
                [36, 138], 
                [36, 221], 
                [36, 265], 
                [36, 269], 
                [36, 296], 
                [36, 300], 
                [37, 42], 
                [37, 88], 
                [37, 109], 
                [37, 110], 
                [37, 194], 
                [37, 228], 
                [37, 237], 
                [38, 49], 
                [38, 61], 
                [38, 104], 
                [38, 144], 
                [38, 153], 
                [38, 162], 
                [38, 180], 
                [38, 213], 
                [38, 294], 
                [39, 86], 
                [39, 136], 
                [39, 168], 
                [39, 231], 
                [39, 256], 
                [39, 262], 
                [40, 69], 
                [40, 81], 
                [40, 94], 
                [40, 109], 
                [40, 238], 
                [40, 249], 
                [40, 252], 
                [41, 51], 
                [41, 73], 
                [41, 125], 
                [41, 134], 
                [41, 183], 
                [41, 250], 
                [41, 280], 
                [42, 80], 
                [42, 110], 
                [42, 192], 
                [42, 194], 
                [42, 200], 
                [42, 228], 
                [42, 237], 
                [43, 78], 
                [43, 145], 
                [43, 169], 
                [43, 199], 
                [43, 233], 
                [43, 276], 
                [44, 58], 
                [44, 83], 
                [44, 147], 
                [44, 165], 
                [44, 174], 
                [44, 263], 
                [45, 89], 
                [45, 140], 
                [45, 142], 
                [45, 143], 
                [45, 223], 
                [45, 271], 
                [45, 276], 
                [46, 84], 
                [46, 105], 
                [46, 116], 
                [46, 133], 
                [46, 164], 
                [46, 185], 
                [47, 122], 
                [47, 151], 
                [47, 198], 
                [47, 202], 
                [47, 240], 
                [47, 298], 
                [48, 54], 
                [48, 108], 
                [48, 121], 
                [48, 126], 
                [48, 152], 
                [48, 175], 
                [48, 210], 
                [48, 211], 
                [49, 61], 
                [49, 104], 
                [49, 144], 
                [49, 162], 
                [50, 62], 
                [50, 90], 
                [50, 99], 
                [50, 167], 
                [50, 187], 
                [50, 202], 
                [50, 279], 
                [51, 53], 
                [51, 73], 
                [51, 125], 
                [51, 183], 
                [51, 250], 
                [52, 54], 
                [52, 76], 
                [52, 121], 
                [52, 175], 
                [52, 188], 
                [52, 229], 
                [52, 234], 
                [52, 247], 
                [52, 268], 
                [53, 73], 
                [53, 125], 
                [53, 134], 
                [53, 189], 
                [53, 190], 
                [53, 250], 
                [53, 280], 
                [54, 76], 
                [54, 121], 
                [54, 126], 
                [54, 152], 
                [54, 175], 
                [54, 210], 
                [54, 229], 
                [54, 268], 
                [55, 68], 
                [55, 103], 
                [55, 146], 
                [55, 236], 
                [55, 238], 
                [55, 286], 
                [56, 67], 
                [56, 68], 
                [56, 98], 
                [56, 236], 
                [56, 269], 
                [57, 79], 
                [57, 80], 
                [57, 112], 
                [57, 158], 
                [57, 161], 
                [57, 283], 
                [57, 288], 
                [58, 139], 
                [58, 147], 
                [58, 165], 
                [58, 218], 
                [59, 107], 
                [59, 157], 
                [59, 177], 
                [59, 204], 
                [59, 208], 
                [59, 259], 
                [59, 273], 
                [59, 299], 
                [60, 68], 
                [60, 93], 
                [60, 188], 
                [60, 214], 
                [60, 267], 
                [60, 296], 
                [61, 74], 
                [61, 144], 
                [61, 153], 
                [61, 180], 
                [61, 213], 
                [61, 287], 
                [61, 294], 
                [62, 90], 
                [62, 167], 
                [62, 253], 
                [62, 258], 
                [62, 281], 
                [62, 282], 
                [63, 92], 
                [63, 96], 
                [63, 97], 
                [63, 111], 
                [63, 130], 
                [63, 160], 
                [63, 171], 
                [63, 241], 
                [63, 242], 
                [64, 85], 
                [64, 128], 
                [64, 166], 
                [64, 193], 
                [64, 277], 
                [65, 66], 
                [65, 106], 
                [65, 115], 
                [65, 118], 
                [65, 129], 
                [65, 131], 
                [65, 148], 
                [65, 270], 
                [66, 106], 
                [66, 115], 
                [66, 118], 
                [66, 129], 
                [67, 221], 
                [67, 265], 
                [67, 269], 
                [67, 296], 
                [68, 98], 
                [68, 103], 
                [68, 146], 
                [68, 236], 
                [68, 269], 
                [69, 88], 
                [69, 163], 
                [69, 180], 
                [69, 213], 
                [69, 248], 
                [69, 249], 
                [70, 119], 
                [70, 174], 
                [70, 182], 
                [70, 263], 
                [70, 292], 
                [71, 87], 
                [71, 136], 
                [71, 143], 
                [71, 150], 
                [71, 156], 
                [71, 216], 
                [71, 272], 
                [72, 91], 
                [72, 101], 
                [72, 102], 
                [72, 137], 
                [72, 172], 
                [72, 260], 
                [72, 261], 
                [73, 125], 
                [73, 134], 
                [73, 183], 
                [73, 250], 
                [73, 280], 
                [74, 163], 
                [74, 225], 
                [74, 239], 
                [74, 248], 
                [74, 287], 
                [74, 294], 
                [75, 169], 
                [75, 223], 
                [75, 276], 
                [75, 284], 
                [76, 188], 
                [76, 229], 
                [76, 234], 
                [76, 247], 
                [76, 268], 
                [77, 173], 
                [77, 181], 
                [77, 203], 
                [77, 235], 
                [77, 254], 
                [77, 260], 
                [77, 285], 
                [78, 199], 
                [78, 232], 
                [78, 255], 
                [78, 271], 
                [78, 276], 
                [79, 80], 
                [79, 112], 
                [79, 161], 
                [79, 192], 
                [79, 224], 
                [79, 228], 
                [79, 283], 
                [80, 192], 
                [80, 224], 
                [80, 228], 
                [80, 237], 
                [80, 283], 
                [80, 288], 
                [81, 94], 
                [81, 100], 
                [81, 109], 
                [81, 238], 
                [81, 252], 
                [82, 181], 
                [82, 205], 
                [82, 235], 
                [82, 254], 
                [82, 264], 
                [83, 147], 
                [83, 165], 
                [83, 174], 
                [83, 263], 
                [84, 105], 
                [84, 116], 
                [84, 133], 
                [84, 154], 
                [84, 164], 
                [84, 185], 
                [85, 128], 
                [85, 145], 
                [85, 166], 
                [85, 181], 
                [85, 233], 
                [85, 277], 
                [86, 168], 
                [86, 231], 
                [86, 256], 
                [86, 262], 
                [86, 295], 
                [87, 136], 
                [87, 150], 
                [87, 156], 
                [87, 212], 
                [87, 216], 
                [87, 256], 
                [87, 262], 
                [87, 272], 
                [88, 109], 
                [88, 110], 
                [88, 153], 
                [88, 180], 
                [88, 213], 
                [89, 140], 
                [89, 142], 
                [89, 143], 
                [89, 257], 
                [89, 271], 
                [89, 276], 
                [90, 99], 
                [90, 119], 
                [90, 167], 
                [90, 187], 
                [90, 292], 
                [91, 95], 
                [91, 117], 
                [91, 120], 
                [91, 137], 
                [91, 172], 
                [91, 227], 
                [91, 261], 
                [91, 291], 
                [92, 96], 
                [92, 97], 
                [92, 111], 
                [92, 130], 
                [92, 160], 
                [92, 171], 
                [92, 241], 
                [92, 242], 
                [93, 138], 
                [93, 214], 
                [93, 267], 
                [93, 274], 
                [93, 275], 
                [93, 296], 
                [94, 100], 
                [94, 109], 
                [94, 110], 
                [94, 238], 
                [94, 252], 
                [95, 102], 
                [95, 120], 
                [95, 141], 
                [95, 172], 
                [95, 178], 
                [95, 201], 
                [95, 227], 
                [95, 244], 
                [95, 291], 
                [96, 97], 
                [96, 111], 
                [96, 124], 
                [96, 130], 
                [96, 241], 
                [96, 242], 
                [97, 111], 
                [97, 124], 
                [97, 241], 
                [97, 242], 
                [98, 103], 
                [98, 146], 
                [98, 236], 
                [98, 267], 
                [98, 269], 
                [99, 119], 
                [99, 167], 
                [99, 187], 
                [99, 292], 
                [100, 109], 
                [100, 249], 
                [100, 252], 
                [101, 235], 
                [101, 260], 
                [101, 264], 
                [101, 285], 
                [102, 137], 
                [102, 141], 
                [102, 172], 
                [102, 201], 
                [103, 146], 
                [103, 226], 
                [103, 236], 
                [104, 112], 
                [104, 144], 
                [104, 162], 
                [104, 294], 
                [105, 123], 
                [105, 127], 
                [105, 133], 
                [105, 154], 
                [105, 159], 
                [105, 278], 
                [106, 129], 
                [106, 131], 
                [106, 148], 
                [106, 155], 
                [106, 230], 
                [106, 270], 
                [107, 157], 
                [107, 170], 
                [107, 176], 
                [107, 177], 
                [107, 204], 
                [107, 243], 
                [107, 273], 
                [107, 299], 
                [108, 121], 
                [108, 160], 
                [108, 175], 
                [108, 196], 
                [108, 197], 
                [108, 211], 
                [108, 215], 
                [108, 229], 
                [108, 297], 
                [109, 110], 
                [109, 194], 
                [109, 238], 
                [109, 286], 
                [110, 194], 
                [110, 237], 
                [111, 124], 
                [111, 149], 
                [111, 241], 
                [111, 242], 
                [112, 162], 
                [112, 224], 
                [113, 114], 
                [113, 132], 
                [113, 179], 
                [113, 191], 
                [113, 226], 
                [113, 250], 
                [114, 146], 
                [114, 179], 
                [114, 191], 
                [114, 226], 
                [115, 118], 
                [115, 129], 
                [115, 131], 
                [115, 148], 
                [115, 155], 
                [115, 230], 
                [116, 133], 
                [116, 154], 
                [116, 185], 
                [116, 243], 
                [117, 120], 
                [117, 172], 
                [117, 178], 
                [117, 227], 
                [117, 261], 
                [117, 284], 
                [117, 291], 
                [118, 129], 
                [118, 155], 
                [119, 182], 
                [119, 202], 
                [119, 292], 
                [120, 137], 
                [120, 172], 
                [120, 178], 
                [120, 227], 
                [120, 244], 
                [120, 291], 
                [121, 211], 
                [121, 215], 
                [121, 229], 
                [121, 297], 
                [122, 135], 
                [122, 151], 
                [122, 186], 
                [122, 209], 
                [122, 222], 
                [122, 240], 
                [122, 246], 
                [123, 127], 
                [123, 159], 
                [123, 164], 
                [123, 278], 
                [124, 149], 
                [124, 242], 
                [125, 134], 
                [125, 183], 
                [125, 280], 
                [126, 152], 
                [126, 175], 
                [126, 210], 
                [126, 211], 
                [126, 258], 
                [127, 159], 
                [127, 164], 
                [127, 278], 
                [128, 145], 
                [128, 166], 
                [128, 193], 
                [128, 233], 
                [128, 277], 
                [129, 131], 
                [129, 148], 
                [129, 155], 
                [129, 230], 
                [129, 270], 
                [130, 160], 
                [130, 171], 
                [130, 241], 
                [130, 242], 
                [131, 148], 
                [131, 155], 
                [131, 230], 
                [131, 270], 
                [132, 179], 
                [132, 191], 
                [132, 226], 
                [133, 154], 
                [133, 185], 
                [133, 278], 
                [134, 183], 
                [134, 280], 
                [135, 151], 
                [135, 186], 
                [135, 209], 
                [135, 222], 
                [135, 240], 
                [135, 246], 
                [136, 156], 
                [136, 216], 
                [136, 231], 
                [136, 256], 
                [136, 262], 
                [136, 272], 
                [137, 141], 
                [137, 172], 
                [137, 244], 
                [137, 291], 
                [138, 214], 
                [138, 221], 
                [138, 265], 
                [138, 274], 
                [138, 275], 
                [138, 296], 
                [138, 300], 
                [139, 165], 
                [139, 166], 
                [139, 218], 
                [139, 232], 
                [139, 277], 
                [140, 142], 
                [140, 199], 
                [140, 223], 
                [140, 255], 
                [140, 271], 
                [140, 276], 
                [141, 172], 
                [141, 201], 
                [141, 244], 
                [142, 223], 
                [142, 271], 
                [142, 276], 
                [142, 284], 
                [143, 156], 
                [143, 216], 
                [143, 255], 
                [143, 257], 
                [143, 272], 
                [144, 162], 
                [144, 180], 
                [144, 287], 
                [144, 294], 
                [145, 166], 
                [145, 199], 
                [145, 233], 
                [146, 191], 
                [146, 226], 
                [146, 236], 
                [146, 286], 
                [147, 165], 
                [147, 218], 
                [148, 155], 
                [148, 230], 
                [148, 270], 
                [149, 253], 
                [149, 281], 
                [149, 282], 
                [150, 156], 
                [150, 212], 
                [150, 216], 
                [150, 257], 
                [151, 186], 
                [151, 198], 
                [151, 209], 
                [151, 222], 
                [151, 240], 
                [151, 246], 
                [152, 175], 
                [152, 211], 
                [152, 258], 
                [153, 180], 
                [153, 213], 
                [153, 224], 
                [154, 159], 
                [155, 212], 
                [155, 230], 
                [155, 270], 
                [156, 216], 
                [156, 257], 
                [156, 272], 
                [157, 170], 
                [157, 176], 
                [157, 177], 
                [157, 208], 
                [157, 245], 
                [157, 259], 
                [158, 161], 
                [158, 192], 
                [158, 228], 
                [158, 283], 
                [158, 288], 
                [159, 164], 
                [159, 278], 
                [160, 171], 
                [160, 196], 
                [160, 197], 
                [161, 192], 
                [161, 224], 
                [161, 228], 
                [161, 283], 
                [161, 288], 
                [162, 294], 
                [163, 225], 
                [163, 239], 
                [163, 248], 
                [163, 249], 
                [163, 287], 
                [164, 185], 
                [165, 193], 
                [165, 218], 
                [166, 193], 
                [166, 218], 
                [166, 232], 
                [166, 233], 
                [166, 277], 
                [167, 187], 
                [167, 253], 
                [167, 281], 
                [167, 282], 
                [168, 231], 
                [168, 256], 
                [168, 262], 
                [168, 263], 
                [169, 199], 
                [169, 219], 
                [169, 223], 
                [169, 276], 
                [170, 176], 
                [170, 177], 
                [170, 204], 
                [170, 243], 
                [170, 273], 
                [170, 299], 
                [171, 196], 
                [171, 197], 
                [171, 215], 
                [172, 201], 
                [172, 227], 
                [172, 244], 
                [172, 261], 
                [172, 291], 
                [173, 203], 
                [173, 235], 
                [173, 260], 
                [173, 285], 
                [174, 182], 
                [174, 263], 
                [175, 211], 
                [175, 229], 
                [176, 245], 
                [176, 259], 
                [176, 273], 
                [177, 204], 
                [177, 208], 
                [177, 259], 
                [177, 273], 
                [177, 299], 
                [178, 227], 
                [178, 244], 
                [178, 291], 
                [179, 191], 
                [179, 226], 
                [179, 234], 
                [179, 247], 
                [180, 213], 
                [180, 294], 
                [181, 205], 
                [181, 235], 
                [181, 254], 
                [182, 263], 
                [182, 292], 
                [183, 250], 
                [184, 266], 
                [184, 274], 
                [184, 275], 
                [184, 279], 
                [186, 209], 
                [186, 222], 
                [186, 240], 
                [186, 246], 
                [187, 202], 
                [187, 207], 
                [187, 298], 
                [188, 226], 
                [188, 234], 
                [188, 247], 
                [188, 268], 
                [189, 190], 
                [189, 200], 
                [189, 250], 
                [189, 280], 
                [189, 293], 
                [190, 200], 
                [190, 250], 
                [190, 280], 
                [190, 293], 
                [191, 226], 
                [192, 194], 
                [192, 228], 
                [192, 237], 
                [192, 283], 
                [192, 288], 
                [193, 277], 
                [194, 200], 
                [194, 228], 
                [194, 237], 
                [195, 217], 
                [195, 220], 
                [195, 256], 
                [195, 262], 
                [195, 295], 
                [196, 197], 
                [196, 215], 
                [196, 297], 
                [197, 215], 
                [197, 297], 
                [198, 202], 
                [198, 209], 
                [198, 246], 
                [198, 298], 
                [199, 232], 
                [199, 255], 
                [199, 271], 
                [199, 276], 
                [200, 237], 
                [200, 250], 
                [200, 293], 
                [202, 298], 
                [203, 235], 
                [203, 285], 
                [204, 208], 
                [204, 243], 
                [204, 273], 
                [204, 299], 
                [205, 254], 
                [206, 207], 
                [206, 221], 
                [206, 265], 
                [206, 266], 
                [206, 274], 
                [206, 275], 
                [206, 300], 
                [207, 266], 
                [207, 274], 
                [207, 298], 
                [208, 259], 
                [209, 222], 
                [209, 240], 
                [209, 246], 
                [212, 217], 
                [212, 231], 
                [212, 256], 
                [212, 262], 
                [214, 267], 
                [214, 296], 
                [215, 297], 
                [216, 262], 
                [216, 272], 
                [217, 220], 
                [217, 230], 
                [217, 295], 
                [218, 232], 
                [219, 254], 
                [219, 264], 
                [220, 230], 
                [220, 281], 
                [220, 282], 
                [220, 295], 
                [221, 265], 
                [221, 274], 
                [221, 275], 
                [221, 296], 
                [221, 300], 
                [222, 240], 
                [222, 246], 
                [223, 271], 
                [223, 276], 
                [223, 284], 
                [224, 228], 
                [225, 239], 
                [225, 248], 
                [225, 287], 
                [225, 294], 
                [227, 261], 
                [227, 284], 
                [227, 291], 
                [228, 237], 
                [229, 234], 
                [229, 268], 
                [230, 270], 
                [231, 256], 
                [231, 262], 
                [232, 255], 
                [232, 277], 
                [233, 277], 
                [234, 247], 
                [234, 268], 
                [235, 260], 
                [235, 285], 
                [236, 286], 
                [238, 286], 
                [239, 248], 
                [239, 249], 
                [239, 251], 
                [239, 289], 
                [239, 290], 
                [240, 246], 
                [240, 298], 
                [241, 242], 
                [243, 245], 
                [243, 273], 
                [243, 299], 
                [246, 298], 
                [247, 268], 
                [248, 249], 
                [248, 287], 
                [249, 251], 
                [249, 290], 
                [250, 293], 
                [251, 289], 
                [251, 290], 
                [253, 282], 
                [255, 271], 
                [255, 272], 
                [256, 262], 
                [256, 295], 
                [257, 272], 
                [258, 279], 
                [260, 264], 
                [260, 285], 
                [261, 291], 
                [264, 285], 
                [265, 274], 
                [265, 275], 
                [265, 296], 
                [265, 300], 
                [266, 275], 
                [266, 279], 
                [266, 298], 
                [267, 296], 
                [269, 296], 
                [271, 276], 
                [273, 299], 
                [274, 275], 
                [274, 296], 
                [274, 300], 
                [275, 296], 
                [275, 300], 
                [280, 293], 
                [281, 282], 
                [283, 288], 
                [289, 290]
            ],
            /*Numero de nodos*/
            nodesNumber: 0,
            relationsLine: [],
            /*Objeto con el camino minimo entre los nodos*/
            minPath:{
                latlngs: [],
                color: 'red'
            },
            minDistance: 0,
            inputNodoInicial: "",
            mostrarCiudades: true,
            inputNodoFinal: "",
            indexes:[],
            MX: 300,
            INF: 1e10,
            d: [],
            parent: [],
            arrNodes: [],
            arrNames: [],
            path:[],
            indexesName:[],
            R: 6371,
            DLatitud: 0,
            DLongitud: 0,
            a: 0,
            c: 0
        };
    },
    created: function(){
        /*Inicializando el d y el parent */
        for(let i = 0; i < this.MX; i++) {
            this.d.push([]);
            this.parent.push([]);
            for (let j = 0; j < this.MX; j++) {
                this.d[i].push(null);
                this.parent[i].push(null);
            }
        }

        this.nodesNumber = this.points.length //Hallando el numero de nodos

        /*Asignando -1 a las diagonales e infinito a los restantes*/
        for (let i = 0; i < this.nodesNumber; i++){
            for (let j = 0; j < this.nodesNumber; j++){
                this.d[i][j] = this.INF
                this.parent[i][j] = -1
            }
        this.d[i][i] = 0
        }

        /*Hallando las lineas de todas las relaciones*/
        for(let value of this.relationsPair){
            this.relationsLine.push(
                {
                    latlngs: [[this.points[value[0]-1].coord1, this.points[value[0]-1].coord2], [this.points[value[1]-1].coord1, this.points[value[1]-1].coord2]],
                    color: "blue"
                }
            )
        }

        /*Hallando la distancia de todos los caminos y agregandola a la matriz*/
        for(let value of this.relationsPair){
            this.DLatitud = (this.points[value[0]-1].coord1 - this.points[value[1]-1].coord1)*(Math.PI / 180)
            this.DLongitud = (this.points[value[0]-1].coord2 - this.points[value[1]-1].coord2)*(Math.PI / 180)
            this.a = Math.pow(Math.sin(this.DLatitud/2),2) + Math.cos(this.points[value[0]-1].coord1)*Math.cos(this.points[value[1]-1].coord1)*Math.pow(Math.sin(this.DLongitud/2),2)
            this.c = 2*Math.atan2(Math.sqrt(this.a), Math.sqrt(1-this.a))
            this.addEdge(value[0], value[1], this.R * this.c)
        }

        this.floydWarshall(this.nodesNumber)
    },
    methods: {
        zoomUpdate(zoom) {
            this.currentZoom = zoom;
        },
        centerUpdate(center) {
            this.currentCenter = center;
        },
        agregarInd(index){
            if (this.indexes.length < 2){
                this.indexes.push(index+1)
                this.indexesName.push(this.points[index].name)
            }
            this.buscarCamino()
        },
        actualizarIndex(){
            for (let [index,value] of this.points.entries() ){
                if(value.name == this.inputNodoInicial) {
                    this.indexes[0] = index+1
                    this.indexesName[0] = this.points[index].name
                }
                if(value.name == this.inputNodoFinal) {
                    this.indexes[1] = index+1
                    this.indexesName[1] = this.points[index].name
                }
            }
        },
        buscarCamino(){
            if (this.indexes.length == 2){
                this.arrNodes = this.getPath(this.indexes[0], this.indexes[1])
                if(this.minPath.latlngs.length == 0){
                    //Crea la linea de distancia minima
                    for (let value of this.arrNodes){
                        this.minPath.latlngs.push([this.points[value-1].coord1, this.points[value-1].coord2]);
                        this.arrNames.push(this.points[value-1].name)
                    }
                    //Calcula la distancia minima
                    for(let i = 0; i< this.arrNodes.length - 1; i++){
                        this.minDistance += this.d[this.arrNodes[i]-1][this.arrNodes[i+1]-1]
                    }
                    this.minDistance = Math.round(this.minDistance * 10000) / 10000
                }
            }
        },
        ciudades(){
            this.mostrarCiudades = !this.mostrarCiudades
        },
        borrarSeleccion(){
            this.indexes = []
            this.indexesName = []
            this.arrNodes = []
            this.arrNames = []
            this.minPath.latlngs = []
            this.path = []
            this.inputNodoInicial = ""
            this.inputNodoFinal = ""
            this.minDistance = 0
            this.DLatitud = 0
            this.DLongitud = 0
            this.a = 0
            this.c = 0
        },
        addEdge(u, v, w){
            u = u - 1
            v = v - 1
            
            if(this.d[u][v] > w) this.d[u][v] = w;
            if(this.d[v][u] > w) this.d[v][u] = w;

            this.parent[u][v] = u
            this.parent[v][u] = v
        },
        floydWarshall(n){
            for (let k = 0; k < n; k++){
                for (let u = 0; u < n; u++){
                    for (let v = 0; v < n; v++){
                        if(this.d[u][k] == this.INF) continue;
                        if(this.d[k][v] == this.INF) continue;
                        if(this.d[u][k] + this.d[k][v] < this.d[u][v]){
                            this.d[u][v] = this.d[u][k] + this.d[k][v]
                            this.parent[u][v] = this.parent[k][v]
                        }
                    }
                }
            }
        },
        getPath(u,v){
            u = u - 1
            v = v - 1

            this.path = []

            while(v != -1){
                this.path.push(v + 1)
                v = this.parent[u][v]
            }
            this.path.reverse()
            
            return this.path
        },
        latLng
    },
};
</script>

<style>

</style>